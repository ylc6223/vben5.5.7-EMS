var ee=Object.defineProperty,ae=Object.defineProperties;var ie=Object.getOwnPropertyDescriptors;var M=Object.getOwnPropertySymbols;var te=Object.prototype.hasOwnProperty,ne=Object.prototype.propertyIsEnumerable;var U=(i,c,n)=>c in i?ee(i,c,{enumerable:!0,configurable:!0,writable:!0,value:n}):i[c]=n,S=(i,c)=>{for(var n in c||(c={}))te.call(c,n)&&U(i,n,c[n]);if(M)for(var n of M(c))ne.call(c,n)&&U(i,n,c[n]);return i},L=(i,c)=>ae(i,ie(c));import{O as V,A as T,t as oe,v as se,P as w,y as le,Q as ce,w as re,J as m,R as ue,n as de,x as ve,z as fe}from"./bootstrap-CRMPbCAg.js";import{i as pe}from"./validator-FQMo81Xs.js";import{u as me}from"./index-BuaG4Xso.js";import{I as B,C as A,U as z}from"./event-BB_Ol6Sd.js";import{S as C,e as j,c as f,r as E,w as H,o as he,h as p,j as t,l as N,k as u,u as a,n as v,v as d,I as h,H as b,t as P,p as R,y as ye,q as be,s as Ie,U as $}from"../jse/index-index-BLEn1CMS.js";import{u as ke,a as ge}from"./use-form-item-C8EWOxB0.js";import{u as we,b as Ve}from"./use-form-common-props-H4BW1-Nh.js";import{t as Se,d as Te}from"./error-Cq9Fpw4b.js";import"./_arrayPush-Dldpwei2.js";const Ce=oe(S({modelValue:{type:[Boolean,String,Number],default:!1},disabled:Boolean,loading:Boolean,size:{type:String,validator:pe},width:{type:[String,Number],default:""},inlinePrompt:Boolean,inactiveActionIcon:{type:w},activeActionIcon:{type:w},activeIcon:{type:w},inactiveIcon:{type:w},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:se(Function)},id:String,tabindex:{type:[String,Number]}},me(["ariaLabel"]))),Ee={[z]:i=>V(i)||C(i)||T(i),[A]:i=>V(i)||C(i)||T(i),[B]:i=>V(i)||C(i)||T(i)},q="ElSwitch",Ne=j({name:q}),Pe=j(L(S({},Ne),{props:Ce,emits:Ee,setup(i,{expose:c,emit:n}){const s=i,{formItem:I}=ke(),G=we(),o=le("switch"),{inputId:J}=ge(s,{formItemContext:I}),k=Ve(f(()=>s.loading)),D=E(s.modelValue!==!1),y=E(),Q=E(),W=f(()=>[o.b(),o.m(G.value),o.is("disabled",k.value),o.is("checked",l.value)]),X=f(()=>[o.e("label"),o.em("label","left"),o.is("active",!l.value)]),Y=f(()=>[o.e("label"),o.em("label","right"),o.is("active",l.value)]),Z=f(()=>({width:ce(s.width)}));H(()=>s.modelValue,()=>{D.value=!0});const K=f(()=>D.value?s.modelValue:!1),l=f(()=>K.value===s.activeValue);[s.activeValue,s.inactiveValue].includes(K.value)||(n(z,s.inactiveValue),n(A,s.inactiveValue),n(B,s.inactiveValue)),H(l,e=>{var r;y.value.checked=e,s.validateEvent&&((r=I==null?void 0:I.validate)==null||r.call(I,"change").catch(x=>Te()))});const g=()=>{const e=l.value?s.inactiveValue:s.activeValue;n(z,e),n(A,e),n(B,e),Ie(()=>{y.value.checked=l.value})},O=()=>{if(k.value)return;const{beforeChange:e}=s;if(!e){g();return}const r=e();[$(r),V(r)].includes(!0)||Se(q,"beforeChange must return type `Promise<boolean>` or `boolean`"),$(r)?r.then(F=>{F&&g()}).catch(F=>{}):r&&g()},_=()=>{var e,r;(r=(e=y.value)==null?void 0:e.focus)==null||r.call(e)};return he(()=>{y.value.checked=l.value}),c({focus:_,checked:l}),(e,r)=>(t(),p("div",{class:v(a(W)),onClick:de(O,["prevent"])},[N("input",{id:a(J),ref_key:"input",ref:y,class:v(a(o).e("input")),type:"checkbox",role:"switch","aria-checked":a(l),"aria-disabled":a(k),"aria-label":e.ariaLabel,name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:a(k),tabindex:e.tabindex,onChange:g,onKeydown:re(O,["enter"])},null,42,["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"]),!e.inlinePrompt&&(e.inactiveIcon||e.inactiveText)?(t(),p("span",{key:0,class:v(a(X))},[e.inactiveIcon?(t(),d(a(m),{key:0},{default:h(()=>[(t(),d(b(e.inactiveIcon)))]),_:1})):u("v-if",!0),!e.inactiveIcon&&e.inactiveText?(t(),p("span",{key:1,"aria-hidden":a(l)},P(e.inactiveText),9,["aria-hidden"])):u("v-if",!0)],2)):u("v-if",!0),N("span",{ref_key:"core",ref:Q,class:v(a(o).e("core")),style:be(a(Z))},[e.inlinePrompt?(t(),p("div",{key:0,class:v(a(o).e("inner"))},[e.activeIcon||e.inactiveIcon?(t(),d(a(m),{key:0,class:v(a(o).is("icon"))},{default:h(()=>[(t(),d(b(a(l)?e.activeIcon:e.inactiveIcon)))]),_:1},8,["class"])):e.activeText||e.inactiveText?(t(),p("span",{key:1,class:v(a(o).is("text")),"aria-hidden":!a(l)},P(a(l)?e.activeText:e.inactiveText),11,["aria-hidden"])):u("v-if",!0)],2)):u("v-if",!0),N("div",{class:v(a(o).e("action"))},[e.loading?(t(),d(a(m),{key:0,class:v(a(o).is("loading"))},{default:h(()=>[ye(a(ue))]),_:1},8,["class"])):a(l)?R(e.$slots,"active-action",{key:1},()=>[e.activeActionIcon?(t(),d(a(m),{key:0},{default:h(()=>[(t(),d(b(e.activeActionIcon)))]),_:1})):u("v-if",!0)]):a(l)?u("v-if",!0):R(e.$slots,"inactive-action",{key:2},()=>[e.inactiveActionIcon?(t(),d(a(m),{key:0},{default:h(()=>[(t(),d(b(e.inactiveActionIcon)))]),_:1})):u("v-if",!0)])],2)],6),!e.inlinePrompt&&(e.activeIcon||e.activeText)?(t(),p("span",{key:1,class:v(a(Y))},[e.activeIcon?(t(),d(a(m),{key:0},{default:h(()=>[(t(),d(b(e.activeIcon)))]),_:1})):u("v-if",!0),!e.activeIcon&&e.activeText?(t(),p("span",{key:1,"aria-hidden":!a(l)},P(e.activeText),9,["aria-hidden"])):u("v-if",!0)],2)):u("v-if",!0)],10,["onClick"]))}}));var Be=ve(Pe,[["__file","switch.vue"]]);const Re=fe(Be);export{Re as ElSwitch,Re as default,Ee as switchEmits,Ce as switchProps};
