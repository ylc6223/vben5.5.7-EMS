var le=Object.defineProperty,se=Object.defineProperties;var oe=Object.getOwnPropertyDescriptors;var U=Object.getOwnPropertySymbols;var re=Object.prototype.hasOwnProperty,ne=Object.prototype.propertyIsEnumerable;var P=Math.pow,q=(i,l,a)=>l in i?le(i,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[l]=a,x=(i,l)=>{for(var a in l||(l={}))re.call(l,a)&&q(i,a,l[a]);if(U)for(var a of U(l))ne.call(l,a)&&q(i,a,l[a]);return i},G=(i,l)=>se(i,oe(l));import{t as j,x as $,y as J,N as A,n as ie,aG as ue,as as ce,a as ve,A as k,v as fe,Q as I,am as me,z as de}from"./bootstrap-DKNppDM-.js";import{B as pe,r as be,G as C}from"./util-B2mB0_6C.js";import{t as he}from"./error-Cq9Fpw4b.js";import{e as B,B as Z,r as c,c as H,af as ye,D as V,v as O,j as L,I as ee,Q as we,l as D,n as N,u as w,q as W,h as te,y as F,F as Se,w as Q,ae as ge,J as ze,ag as _e,o as Ee,s as X,P as Te,k as Ce,p as He,H as ke,a7 as Le}from"../jse/index-index-CClcjv6z.js";import{u as Ne}from"./index-CL-GF0I0.js";const K=Symbol("scrollbarContextKey"),Pe=j({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),Be="Thumb",Re=B({__name:"thumb",props:Pe,setup(i){const l=i,a=Z(K),o=J("scrollbar");a||he(Be,"can not inject scrollbar context");const u=c(),v=c(),d=c({}),p=c(!1);let m=!1,b=!1,s=ve?document.onselectstart:null;const t=H(()=>pe[l.vertical?"vertical":"horizontal"]),r=H(()=>be({size:l.size,move:l.move,bar:t.value})),f=H(()=>P(u.value[t.value.offset],2)/a.wrapElement[t.value.scrollSize]/l.ratio/v.value[t.value.offset]),h=n=>{var _;if(n.stopPropagation(),n.ctrlKey||[1,2].includes(n.button))return;(_=window.getSelection())==null||_.removeAllRanges(),g(n);const T=n.currentTarget;T&&(d.value[t.value.axis]=T[t.value.offset]-(n[t.value.client]-T.getBoundingClientRect()[t.value.direction]))},E=n=>{if(!v.value||!u.value||!a.wrapElement)return;const _=Math.abs(n.target.getBoundingClientRect()[t.value.direction]-n[t.value.client]),T=v.value[t.value.offset]/2,M=(_-T)*100*f.value/u.value[t.value.offset];a.wrapElement[t.value.scroll]=M*a.wrapElement[t.value.scrollSize]/100},g=n=>{n.stopImmediatePropagation(),m=!0,document.addEventListener("mousemove",S),document.addEventListener("mouseup",y),s=document.onselectstart,document.onselectstart=()=>!1},S=n=>{if(!u.value||!v.value||m===!1)return;const _=d.value[t.value.axis];if(!_)return;const T=(u.value.getBoundingClientRect()[t.value.direction]-n[t.value.client])*-1,M=v.value[t.value.offset]-_,ae=(T-M)*100*f.value/u.value[t.value.offset];a.wrapElement[t.value.scroll]=ae*a.wrapElement[t.value.scrollSize]/100},y=()=>{m=!1,d.value[t.value.axis]=0,document.removeEventListener("mousemove",S),document.removeEventListener("mouseup",y),e(),b&&(p.value=!1)},R=()=>{b=!1,p.value=!!l.size},z=()=>{b=!0,p.value=m};ye(()=>{e(),document.removeEventListener("mouseup",y)});const e=()=>{document.onselectstart!==s&&(document.onselectstart=s)};return A(V(a,"scrollbarElement"),"mousemove",R),A(V(a,"scrollbarElement"),"mouseleave",z),(n,_)=>(L(),O(ce,{name:w(o).b("fade"),persisted:""},{default:ee(()=>[we(D("div",{ref_key:"instance",ref:u,class:N([w(o).e("bar"),w(o).is(w(t).key)]),onMousedown:E,onClick:ie(()=>{},["stop"])},[D("div",{ref_key:"thumb",ref:v,class:N(w(o).e("thumb")),style:W(w(r)),onMousedown:h},null,38)],42,["onClick"]),[[ue,n.always||p.value]])]),_:1},8,["name"]))}});var Y=$(Re,[["__file","thumb.vue"]]);const Me=j({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),xe=B({__name:"bar",props:Me,setup(i,{expose:l}){const a=i,o=Z(K),u=c(0),v=c(0),d=c(""),p=c(""),m=c(1),b=c(1);return l({handleScroll:r=>{if(r){const f=r.offsetHeight-C,h=r.offsetWidth-C;v.value=r.scrollTop*100/f*m.value,u.value=r.scrollLeft*100/h*b.value}},update:()=>{const r=o==null?void 0:o.wrapElement;if(!r)return;const f=r.offsetHeight-C,h=r.offsetWidth-C,E=P(f,2)/r.scrollHeight,g=P(h,2)/r.scrollWidth,S=Math.max(E,a.minSize),y=Math.max(g,a.minSize);m.value=E/(f-E)/(S/(f-S)),b.value=g/(h-g)/(y/(h-y)),p.value=S+C<f?`${S}px`:"",d.value=y+C<h?`${y}px`:""}}),(r,f)=>(L(),te(Se,null,[F(Y,{move:u.value,ratio:b.value,size:d.value,always:r.always},null,8,["move","ratio","size","always"]),F(Y,{move:v.value,ratio:m.value,size:p.value,vertical:"",always:r.always},null,8,["move","ratio","size","always"])],64))}});var Ae=$(xe,[["__file","bar.vue"]]);const Oe=j(x({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:fe([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},tabindex:{type:[String,Number],default:void 0},id:String,role:String},Ne(["ariaLabel","ariaOrientation"]))),De={scroll:({scrollTop:i,scrollLeft:l})=>[i,l].every(k)},We="ElScrollbar",je=B({name:We}),$e=B(G(x({},je),{props:Oe,emits:De,setup(i,{expose:l,emit:a}){const o=i,u=J("scrollbar");let v,d,p=0,m=0;const b=c(),s=c(),t=c(),r=c(),f=H(()=>{const e={};return o.height&&(e.height=I(o.height)),o.maxHeight&&(e.maxHeight=I(o.maxHeight)),[o.wrapStyle,e]}),h=H(()=>[o.wrapClass,u.e("wrap"),{[u.em("wrap","hidden-default")]:!o.native}]),E=H(()=>[u.e("view"),o.viewClass]),g=()=>{var e;s.value&&((e=r.value)==null||e.handleScroll(s.value),p=s.value.scrollTop,m=s.value.scrollLeft,a("scroll",{scrollTop:s.value.scrollTop,scrollLeft:s.value.scrollLeft}))};function S(e,n){Le(e)?s.value.scrollTo(e):k(e)&&k(n)&&s.value.scrollTo(e,n)}const y=e=>{k(e)&&(s.value.scrollTop=e)},R=e=>{k(e)&&(s.value.scrollLeft=e)},z=()=>{var e;(e=r.value)==null||e.update()};return Q(()=>o.noresize,e=>{e?(v==null||v(),d==null||d()):({stop:v}=me(t,z),d=A("resize",z))},{immediate:!0}),Q(()=>[o.maxHeight,o.height],()=>{o.native||X(()=>{var e;z(),s.value&&((e=r.value)==null||e.handleScroll(s.value))})}),ge(K,ze({scrollbarElement:b,wrapElement:s})),_e(()=>{s.value&&(s.value.scrollTop=p,s.value.scrollLeft=m)}),Ee(()=>{o.native||X(()=>{z()})}),Te(()=>z()),l({wrapRef:s,update:z,scrollTo:S,setScrollTop:y,setScrollLeft:R,handleScroll:g}),(e,n)=>(L(),te("div",{ref_key:"scrollbarRef",ref:b,class:N(w(u).b())},[D("div",{ref_key:"wrapRef",ref:s,class:N(w(h)),style:W(w(f)),tabindex:e.tabindex,onScroll:g},[(L(),O(ke(e.tag),{id:e.id,ref_key:"resizeRef",ref:t,class:N(w(E)),style:W(e.viewStyle),role:e.role,"aria-label":e.ariaLabel,"aria-orientation":e.ariaOrientation},{default:ee(()=>[He(e.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],46,["tabindex"]),e.native?Ce("v-if",!0):(L(),O(Ae,{key:0,ref_key:"barRef",ref:r,always:e.always,"min-size":e.minSize},null,8,["always","min-size"]))],2))}}));var Ke=$($e,[["__file","scrollbar.vue"]]);const Qe=de(Ke);export{Qe as E,De as s};
