var b=(f,i,d)=>new Promise((c,m)=>{var g=n=>{try{u(d.next(n))}catch(a){m(a)}},p=n=>{try{u(d.throw(n))}catch(a){m(a)}},u=n=>n.done?c(n.value):Promise.resolve(n.value).then(g,p);u((d=d.apply(f,i)).next())});import{a1 as A,a2 as S,_ as N}from"./bootstrap-CRMPbCAg.js";import v from"./SearchSelector-S-FnFt0F.js";import{s as j}from"./companyService-UF3LSOFm.js";import{e as z,r,h as w,j as D,l,y as h,I,t as s,u as M,k as P,Q as C,x as V}from"../jse/index-index-BLEn1CMS.js";/* empty css                  */import"./el-popover-CifyfLE9.js";import"./index-DroBubct.js";import"./index-BuaG4Xso.js";import"./_arrayPush-Dldpwei2.js";import"./index-DVO058gF.js";import"./use-form-item-C8EWOxB0.js";import"./use-form-common-props-H4BW1-Nh.js";import"./css-Y7-lT1k2.js";import"./css--NxZTE4c.js";import"./index-BX4pXHqX.js";import"./browser-CMFvwe14.js";import"./event-BB_Ol6Sd.js";import"./index-CQxSKuWz.js";import"./index-BplgeGre.js";import"./error-Cq9Fpw4b.js";import"./index-BBB7ueyP.js";import"./index-DVi7n050.js";const Q={class:"demo-container"},$={class:"demo-section"},q={class:"company-option"},F={class:"company-name"},G={class:"company-info"},H={class:"company-type"},J={class:"company-code"},K={class:"company-address"},O={class:"demo-section"},R={class:"demo-section"},W={class:"demo-section"},X={key:0,class:"error-message"},Y={class:"demo-section"},Z={class:"config-controls"},ee=z({__name:"SearchSelectorAdvancedDemo",setup(f){const i=r(),d=r(null),c=r(),m=r(),g=r([{label:"技术部",value:"tech"},{label:"市场部",value:"marketing"},{label:"销售部",value:"sales"},{label:"人事部",value:"hr"},{label:"财务部",value:"finance"}]),p=r(),u=r(""),n=r(),a=r({remote:!0,debounceDelay:300,minSearchLength:1}),x=()=>b(null,null,function*(){return yield new Promise(t=>setTimeout(t,500)),[{label:"北京",value:"beijing"},{label:"上海",value:"shanghai"},{label:"广州",value:"guangzhou"},{label:"深圳",value:"shenzhen"},{label:"杭州",value:"hangzhou"},{label:"南京",value:"nanjing"}]}),L=t=>b(null,null,function*(){throw yield new Promise(e=>setTimeout(e,300)),new Error("模拟网络错误")}),E=t=>b(null,null,function*(){yield new Promise(o=>setTimeout(o,a.value.debounceDelay));const e=[{label:"自定义选项1",value:"custom1"},{label:"自定义选项2",value:"custom2"},{label:"自定义选项3",value:"custom3"},{label:"测试选项A",value:"testA"},{label:"测试选项B",value:"testB"}];return t?e.filter(o=>o.label.toLowerCase().includes(t.toLowerCase())):e}),U=(t,e)=>{d.value=e,console.log("选择企业:",e)},_=(t,e)=>{console.log("选择城市:",e)},k=(t,e)=>{console.log("选择部门:",e)},T=(t,e)=>{console.log("错误测试选择:",e)},B=(t,e)=>{console.log("自定义配置选择:",e)},y=t=>{u.value=`加载失败: ${t.message}`,console.error("数据加载错误:",t),setTimeout(()=>{u.value=""},3e3)};return(t,e)=>(D(),w("div",Q,[e[16]||(e[16]=l("h2",null,"SearchSelector 高级功能演示",-1)),l("div",$,[e[8]||(e[8]=l("h3",null,"1. 异步数据源 + 远程搜索",-1)),h(v,{modelValue:i.value,"onUpdate:modelValue":e[0]||(e[0]=o=>i.value=o),"data-source":M(j),placeholder:"请选择企业","search-placeholder":"搜索企业名称、类型或地址",remote:"","debounce-delay":300,"min-search-length":0,"popover-width":450,onChange:U,onLoadError:y},{option:I(({option:o})=>[l("div",q,[l("div",F,s(o.label),1),l("div",G,[l("span",H,s(o.type),1),l("span",J,s(o.code),1)]),l("div",K,s(o.address),1)])]),_:1},8,["modelValue","data-source"]),l("p",null,"当前选中: "+s(i.value),1),l("p",null,"选中企业信息: "+s(d.value),1)]),l("div",O,[e[9]||(e[9]=l("h3",null,"2. 本地数据源（初始化加载）",-1)),h(v,{modelValue:c.value,"onUpdate:modelValue":e[1]||(e[1]=o=>c.value=o),"data-source":x,placeholder:"请选择城市","search-placeholder":"搜索城市名称",filterable:!0,onChange:_,onLoadError:y},null,8,["modelValue"]),l("p",null,"当前选中城市: "+s(c.value),1)]),l("div",R,[e[10]||(e[10]=l("h3",null,"3. 静态选项 + 本地搜索",-1)),h(v,{modelValue:m.value,"onUpdate:modelValue":e[2]||(e[2]=o=>m.value=o),options:g.value,placeholder:"请选择部门","search-placeholder":"搜索部门名称",onChange:k},null,8,["modelValue","options"]),l("p",null,"当前选中部门: "+s(m.value),1)]),l("div",W,[e[11]||(e[11]=l("h3",null,"4. 错误处理演示",-1)),h(v,{modelValue:p.value,"onUpdate:modelValue":e[3]||(e[3]=o=>p.value=o),"data-source":L,placeholder:"测试错误处理","search-placeholder":"输入任何内容触发错误",remote:"",onChange:T,onLoadError:y},null,8,["modelValue"]),l("p",null,"当前选中: "+s(p.value),1),u.value?(D(),w("p",X,s(u.value),1)):P("",!0)]),l("div",Y,[e[15]||(e[15]=l("h3",null,"5. 自定义配置",-1)),l("div",Z,[l("label",null,[C(l("input",{type:"checkbox","onUpdate:modelValue":e[4]||(e[4]=o=>a.value.remote=o)},null,512),[[A,a.value.remote]]),e[12]||(e[12]=V(" 远程模式 "))]),l("label",null,[C(l("input",{type:"number","onUpdate:modelValue":e[5]||(e[5]=o=>a.value.debounceDelay=o),min:"0",max:"2000"},null,512),[[S,a.value.debounceDelay]]),e[13]||(e[13]=V(" 防抖延迟(ms) "))]),l("label",null,[C(l("input",{type:"number","onUpdate:modelValue":e[6]||(e[6]=o=>a.value.minSearchLength=o),min:"0",max:"5"},null,512),[[S,a.value.minSearchLength]]),e[14]||(e[14]=V(" 最小搜索长度 "))])]),h(v,{modelValue:n.value,"onUpdate:modelValue":e[7]||(e[7]=o=>n.value=o),"data-source":E,remote:a.value.remote,"debounce-delay":a.value.debounceDelay,"min-search-length":a.value.minSearchLength,placeholder:"自定义配置测试",onChange:B},null,8,["modelValue","remote","debounce-delay","min-search-length"]),l("p",null,"当前选中: "+s(n.value),1)])]))}}),De=N(ee,[["__scopeId","data-v-d168bbe5"]]);export{De as default};
