var Pe=Object.defineProperty,Ae=Object.defineProperties;var Ce=Object.getOwnPropertyDescriptors;var Z=Object.getOwnPropertySymbols;var Re=Object.prototype.hasOwnProperty,Ee=Object.prototype.propertyIsEnumerable;var J=(t,s,a)=>s in t?Pe(t,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[s]=a,N=(t,s)=>{for(var a in s||(s={}))Re.call(s,a)&&J(t,a,s[a]);if(Z)for(var a of Z(s))Ee.call(s,a)&&J(t,a,s[a]);return t},L=(t,s)=>Ae(t,Ce(s));import{e as ne,B as we,c as S,r as te,h as xe,k as Oe,j as Ve,l as h,n as f,u as r,t as x,y as O,a0 as R,i as H,ae as Me,X as Ie}from"../jse/index-index-CClcjv6z.js";import{t as Fe,u as ye,a as Ue,T as Q,b as Ne,c as Le,d as He,D as Be,C as Ke,e as je}from"./panel-time-pick-njhXul9q.js";import{l as Kn,n as jn,f as qn,g as $n,h as zn,i as Gn,j as Yn,k as Xn,m as Zn,p as Jn,r as Qn,q as Wn,s as et,o as nt,v as tt}from"./panel-time-pick-njhXul9q.js";import{t as qe,v as $e,x as ze,F as Ge,y as W,aH as Ye,z as Xe}from"./bootstrap-DKNppDM-.js";import{b as Ze}from"./index-CL-GF0I0.js";import{b as Je,i as Qe}from"./isArrayLikeObject-C4eRcmmA.js";import{d as B,s as ae,e as We,f as en}from"./isEqual-C9jxtB8T.js";import{b as nn}from"./_baseFindIndex-D7XfJLKM.js";import{U as ee}from"./event-BB_Ol6Sd.js";import"./index-DlI7P0K8.js";import"./browser-auKJFWin.js";import"./index-C7broldF.js";import"./use-form-item-94WQABG4.js";import"./use-form-common-props-CFNhUBoH.js";import"./index-BpRugPLb.js";import"./error-Cq9Fpw4b.js";import"./_arrayPush-BBRYry4V.js";import"./index-BTdHKsqd.js";import"./index-DbQGFv3H.js";import"./index-CWcVrLge.js";import"./util-B2mB0_6C.js";import"./index-oCOuja3N.js";import"./debounce-Cbv_-rf3.js";function tn(){}function an(t){return t!==t}function sn(t,s,a){for(var c=a-1,d=t.length;++c<d;)if(t[c]===s)return c;return-1}function on(t,s,a){return s===s?sn(t,s,a):nn(t,an,a)}function rn(t,s){var a=t==null?0:t.length;return!!a&&on(t,s,0)>-1}var ln=1/0,cn=B&&1/ae(new B([,-0]))[1]==ln?function(t){return new B(t)}:tn,un=200;function pn(t,s,a){var c=-1,d=rn,v=t.length,o=!0,b=[],m=b;if(v>=un){var _=cn(t);if(_)return ae(_);o=!1,d=en,m=new We}else m=b;e:for(;++c<v;){var k=t[c],T=k;if(k=k!==0?k:0,o&&T===T){for(var E=m.length;E--;)if(m[E]===T)continue e;b.push(k)}else d(m,T,a)||(m!==b&&m.push(T),b.push(k))}return b}var K=Je(function(t){return pn(Ze(t,1,Qe,!0))});const dn=qe(L(N({},Fe),{parsedValue:{type:$e(Array)}})),mn=ne({__name:"panel-time-range",props:dn,emits:["pick","select-range","set-picker-option"],setup(t,{emit:s}){const a=t,c=(e,n)=>{const i=[];for(let l=e;l<=n;l++)i.push(l);return i},{t:d,lang:v}=Ge(),o=W("time"),b=W("picker"),m=we("EP_PICKER_BASE"),{arrowControl:_,disabledHours:k,disabledMinutes:T,disabledSeconds:E,defaultValue:V}=m.props,se=S(()=>[o.be("range-picker","body"),o.be("panel","content"),o.is("arrow",_),A.value?"has-seconds":""]),oe=S(()=>[o.be("range-picker","body"),o.be("panel","content"),o.is("arrow",_),A.value?"has-seconds":""]),D=S(()=>a.parsedValue[0]),P=S(()=>a.parsedValue[1]),re=ye(a),ie=()=>{s("pick",re.value,!1)},A=S(()=>a.format.includes("ss")),j=S(()=>a.format.includes("A")?"A":a.format.includes("a")?"a":""),le=(e=!1)=>{s("pick",[D.value,P.value],e)},ce=e=>{q(e.millisecond(0),P.value)},ue=e=>{q(D.value,e.millisecond(0))},pe=e=>{const n=e.map(l=>R(l).locale(v.value)),i=z(n);return n[0].isSame(i[0])&&n[1].isSame(i[1])},q=(e,n)=>{a.visible&&s("pick",[e,n],!0)},de=S(()=>D.value>P.value),w=te([0,2]),me=(e,n)=>{s("select-range",e,n,"min"),w.value=[e,n]},$=S(()=>A.value?11:8),fe=(e,n)=>{s("select-range",e,n,"max");const i=r($);w.value=[e+i,n+i]},ve=e=>{const n=A.value?[0,3,6,11,14,17]:[0,3,8,11],i=["hours","minutes"].concat(A.value?["seconds"]:[]),u=(n.indexOf(w.value[0])+e+n.length)%n.length,p=n.length/2;u<p?y.start_emitSelectRange(i[u]):y.end_emitSelectRange(i[u-p])},be=e=>{const n=e.code,{left:i,right:l,up:u,down:p}=Ye;if([i,l].includes(n)){ve(n===i?-1:1),e.preventDefault();return}if([u,p].includes(n)){const g=n===u?-1:1,C=w.value[0]<$.value?"start":"end";y[`${C}_scrollDown`](g),e.preventDefault();return}},M=(e,n)=>{const i=k?k(e):[],l=e==="start",p=(n||(l?P.value:D.value)).hour(),g=l?c(p+1,23):c(0,p-1);return K(i,g)},I=(e,n,i)=>{const l=T?T(e,n):[],u=n==="start",p=i||(u?P.value:D.value),g=p.hour();if(e!==g)return l;const C=p.minute(),U=u?c(C+1,59):c(0,C-1);return K(l,U)},F=(e,n,i,l)=>{const u=E?E(e,n,i):[],p=i==="start",g=l||(p?P.value:D.value),C=g.hour(),U=g.minute();if(e!==C||n!==U)return u;const X=g.second(),De=p?c(X+1,59):c(0,X-1);return K(u,De)},z=([e,n])=>[G(e,"start",!0,n),G(n,"end",!1,e)],{getAvailableHours:ge,getAvailableMinutes:he,getAvailableSeconds:ke}=Ne(M,I,F),{timePickerOptions:y,getAvailableTime:G,onSetOption:Y}=Ue({getAvailableHours:ge,getAvailableMinutes:he,getAvailableSeconds:ke}),Te=e=>e?H(e)?e.map(n=>R(n,a.format).locale(v.value)):R(e,a.format).locale(v.value):null,Se=e=>e?H(e)?e.map(n=>n.format(a.format)):e.format(a.format):null,_e=()=>{if(H(V))return V.map(n=>R(n).locale(v.value));const e=R(V).locale(v.value);return[e,e.add(60,"m")]};return s("set-picker-option",["formatToString",Se]),s("set-picker-option",["parseUserInput",Te]),s("set-picker-option",["isValidValue",pe]),s("set-picker-option",["handleKeydownInput",be]),s("set-picker-option",["getDefaultValue",_e]),s("set-picker-option",["getRangeAvailableTime",z]),(e,n)=>e.actualVisible?(Ve(),xe("div",{key:0,class:f([r(o).b("range-picker"),r(b).b("panel")])},[h("div",{class:f(r(o).be("range-picker","content"))},[h("div",{class:f(r(o).be("range-picker","cell"))},[h("div",{class:f(r(o).be("range-picker","header"))},x(r(d)("el.datepicker.startTime")),3),h("div",{class:f(r(se))},[O(Q,{ref:"minSpinner",role:"start","show-seconds":r(A),"am-pm-mode":r(j),"arrow-control":r(_),"spinner-date":r(D),"disabled-hours":M,"disabled-minutes":I,"disabled-seconds":F,onChange:ce,onSetOption:r(Y),onSelectRange:me},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2),h("div",{class:f(r(o).be("range-picker","cell"))},[h("div",{class:f(r(o).be("range-picker","header"))},x(r(d)("el.datepicker.endTime")),3),h("div",{class:f(r(oe))},[O(Q,{ref:"maxSpinner",role:"end","show-seconds":r(A),"am-pm-mode":r(j),"arrow-control":r(_),"spinner-date":r(P),"disabled-hours":M,"disabled-minutes":I,"disabled-seconds":F,onChange:ue,onSetOption:r(Y),onSelectRange:fe},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2)],2),h("div",{class:f(r(o).be("panel","footer"))},[h("button",{type:"button",class:f([r(o).be("panel","btn"),"cancel"]),onClick:i=>ie()},x(r(d)("el.datepicker.cancel")),11,["onClick"]),h("button",{type:"button",class:f([r(o).be("panel","btn"),"confirm"]),disabled:r(de),onClick:i=>le()},x(r(d)("el.datepicker.confirm")),11,["disabled","onClick"])],2)],2)):Oe("v-if",!0)}});var fn=ze(mn,[["__file","panel-time-range.vue"]]);R.extend(je);var vn=ne({name:"ElTimePicker",install:null,props:L(N({},Le),{isRange:{type:Boolean,default:!1}}),emits:[ee],setup(t,s){const a=te(),[c,d]=t.isRange?["timerange",fn]:["time",He],v=o=>s.emit(ee,o);return Me("ElPopperOptions",t.popperOptions),s.expose({focus:()=>{var o;(o=a.value)==null||o.focus()},blur:()=>{var o;(o=a.value)==null||o.blur()},handleOpen:()=>{var o;(o=a.value)==null||o.handleOpen()},handleClose:()=>{var o;(o=a.value)==null||o.handleClose()}}),()=>{var o;const b=(o=t.format)!=null?o:Be;return O(Ke,Ie(t,{ref:a,type:c,format:b,"onUpdate:modelValue":v}),{default:m=>O(d,m,null)})}}});const Ln=Xe(vn);export{Ke as CommonPicker,Kn as DEFAULT_FORMATS_DATE,jn as DEFAULT_FORMATS_DATEPICKER,Be as DEFAULT_FORMATS_TIME,Ln as ElTimePicker,He as TimePickPanel,qn as buildTimeList,$n as dateEquals,zn as dayOrDaysToDate,Ln as default,Gn as extractDateFormat,Yn as extractTimeFormat,Xn as formatter,Zn as makeList,Jn as parseDate,Qn as rangeArr,Le as timePickerDefaultProps,Wn as timePickerRangeTriggerProps,et as timePickerRngeTriggerProps,nt as timeUnits,tt as valueEquals};
